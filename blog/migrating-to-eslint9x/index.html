<!doctype html>

<html lang="en">
    <head>
    <meta charset="utf-8" />
    <meta name="color-scheme" content="dark" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="base" content="https://tduyng.com" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="robots" content="index, nofollow" />
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png" />
    <link rel="canonical" href="https://tduyng.com/blog/migrating-to-eslint9x" />
    
    <meta name="keywords" content="eslint, typescript, migration, nodejs" />
    
    <meta name="author" content="Duy NG" />
    <title>Migrate to ESLint 9.x</title>
    <meta
        property="og:title"
        content="Migrate to ESLint 9.x"
    />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Duy NG" />
    
    <meta name="description" content="In this article, I share some experiences of migrating to ESLint 9.x, which includes significant breaking changes. We&#39;ll use the flat config, integrate ESLint plugins, and specify custom rules for various file types: .js, .cjs, .mjs and .ts" />
    <meta property="og:description" content="In this article, I share some experiences of migrating to ESLint 9.x, which includes significant breaking changes. We&#39;ll use the flat config, integrate ESLint plugins, and specify custom rules for various file types: .js, .cjs, .mjs and .ts" />
    
    <meta property="og:image" content="https://tduyng.com/blog/migrating-to-eslint9x/img/eslint9x.webp" />
    <meta property="og:image:width" content="1500" />
    <meta property="og:image:height" content="750" />
    <meta name="twitter:image" content="https://tduyng.com/blog/migrating-to-eslint9x/img/eslint9x.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    
    <link rel="stylesheet" href="/css/main.css" />
</head>

    <body class="post">
        
<header class="blur">
    <div id="header-wrapper">
        <nav>
            <a class="instant" href="/">tduyng</a>

            
            <button id="toggler" class="separator" aria-label="toggle expand">
                ☰
            </button>
            <span class="wrap left fold">[</span>

               
            <a class="instant " href="/blog">
                blog
            </a>

            
            <span class="wrap-separator fold">,</span>
              
            <a class="instant fold" href="/notes">
                notes
            </a>

            
            <span class="wrap-separator fold">,</span>
              
            <a class="instant fold" href="/about">
                about
            </a>

             

            <span class="wrap right fold">]</span>
            
        </nav>
    </div>
</header>


        <div id="wrapper">
            <div id="blank"></div>
            <aside>
                
<nav>
    <ul>
        
        <li>
            <a class="h2" href="#flat-config">Flat config</a>
            
        </li>
        
        <li>
            <a class="h2" href="#example-of-migrating-eslint-9x-in-a-typescript-project">Example of migrating ESLint 9.x in a Typescript project</a>
            
            <ul>
                
                <li>
                    <a class="h3" href="#preparing-for-migration">Preparing for migration</a>
                </li>
                
                <li>
                    <a class="h3" href="#use-the-migrator-tool">Use the migrator tool</a>
                </li>
                
                <li>
                    <a class="h3" href="#writing-the-new-config">Writing the new config</a>
                </li>
                
            </ul>
            
        </li>
        
        <li>
            <a class="h2" href="#updated-march-11-2025">UPDATED: March 11, 2025</a>
            
        </li>
        
    </ul>
</nav>


                <button id="back-to-top" aria-label="back to top">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill="currentColor"></path></svg>
                </button>
            </aside>
            <main>
                <div>
                    
<div
    id="copy-cfg"
    style="display: none"
    data-copy-icon="&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; viewBox=&#34;0 0 24 24&#34; width=&#34;20&#34; height=&#34;20&#34;&gt;&lt;path d=&#34;M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z&#34; fill=&#34;currentColor&#34;&gt;&lt;/path&gt;&lt;/svg&gt;"
    data-check-icon="&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; viewBox=&#34;0 0 24 24&#34; width=&#34;20&#34; height=&#34;20&#34;&gt;&lt;path d=&#34;M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z&#34; fill=&#34;currentColor&#34;&gt;&lt;/path&gt;&lt;/svg&gt;"
></div>

 
                    <article class="prose" data-backlink-icon="">
                        <h1>Migrate to ESLint 9.x</h1>
                        <div id="post-info">
                            <div id="date">
                                <span id="publish">Jul 16, 2024</span>
                                
                                <span>Last update:</span>
                                <span id="updated"
                                    >Mar 11, 2025</span
                                >
                                
                            </div>

                            <div id="wordcount">
    <span>1293 words - 6 min read</span>
</div>

                        </div>

                        <div id="tags">
                              
                            <a class="instant" href="/tags/eslint"><span>#</span>eslint</a>
                              
                            <a class="instant" href="/tags/typescript"><span>#</span>typescript</a>
                              
                            <a class="instant" href="/tags/migration"><span>#</span>migration</a>
                              
                            <a class="instant" href="/tags/nodejs"><span>#</span>nodejs</a>
                            
                        </div>

                        
 <p>Have you updated your ESLint setup to version 9.x? This version includes <a href="https://eslint.org/blog/2024/04/eslint-v9.0.0-released/">many breaking changes</a>. Two major changes you need to consider are:</p>
<ul>
<li>Node.js &lt; v18.18.0 and v19 are no longer supported.</li>
<li>Flat config is now the default and has some changes.</li>
</ul>
<h2 id="flat-config">Flat config</h2>
<p>ESLint's new flat config system makes setting up easier by using just one JavaScript file (named <code>eslint.config.js, eslint.config.mjs, or eslint.config.cjs</code>). This is different from the old way, which used several different files like <code>.eslintrc*</code> and the <code>package.json</code>.</p>
<p>Here is a simple comparison between legacy config and flat config:</p>
<table>
<thead>
<tr>
<th style="text-align:center">Aspect</th>
<th style="text-align:center">Legacy Config</th>
<th style="text-align:center">Flat Config</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Sources</td>
<td style="text-align:center"><code>.eslintrc</code> <code>.js, .json, .yml</code>, <code>package.json</code>, etc.</td>
<td style="text-align:center"><code>eslint.config.js</code> <code>.cjs, .mjs</code></td>
</tr>
<tr>
<td style="text-align:center">Configuration style</td>
<td style="text-align:center">Convention-based <code>extends</code></td>
<td style="text-align:center">Explicit native imports</td>
</tr>
<tr>
<td style="text-align:center">Plugin definition</td>
<td style="text-align:center">Package-named <code>plugins</code></td>
<td style="text-align:center">Plugins are objects</td>
</tr>
<tr>
<td style="text-align:center">Inheritance tree</td>
<td style="text-align:center">Potentially complex</td>
<td style="text-align:center">Composable and traceable</td>
</tr>
</tbody>
</table>
<p><strong>Benefits of the flat config</strong></p>
<ul>
<li>Performance: Reduced overhead due to a single configuration source.</li>
<li>Maintainability: Easier to manage and update.</li>
<li>Flexibility: More straightforward to compose and understand.</li>
</ul>
<p>You can learn more about the reason for the flat config by visiting these links: <a href="https://eslint.org/blog/2023/10/flat-config-rollout-plans/">here</a> and <a href="https://eslint.org/docs/latest/use/configure/configuration-files">here</a>. For more information on the syntax and concepts, check out the <a href="https://eslint.org/docs/latest/use/configure/">ESLint configuration page</a>.</p>
<p>Now, in ESLint 9.x, the flat config is enabled by default, which means the old <code>eslintrc*</code> configuration files won't work properly.</p>
<p>Here is the flat config rollout timeline:
<img src="img/flat-config.webp" alt="flat config rollout timeline" loading="lazy">
<small>Image by Antony Fu (<a href="https://portal.gitnation.org/contents/eslint-one-for-all-made-easy">https://portal.gitnation.org/contents/eslint-one-for-all-made-easy</a>)</small></p>
<p>If you want to continue to use the legacy way, you can turn off the new system by setting an environment variable called <code>ESLINT_USE_FLAT_CONFIG</code> to <code>false</code>, but you'll see a warning message in your terminal. So the recommended way is to migrate to the flat config file. This might pose some challenges if you aren't familiar with this new system.</p>
<h2 id="example-of-migrating-eslint-9x-in-a-typescript-project">Example of migrating ESLint 9.x in a Typescript project</h2>
<p>We'll dive directly into an example to better understand how the flat config works. We will migrate a legacy ESLint config from ESLint 8.x to ESLint 9.x.</p>
<h3 id="preparing-for-migration">Preparing for migration</h3>
<p>Here are some steps to consider for the migration:</p>
<ul>
<li><strong>Verify plugin support</strong>: Ensure that all the plugins you use support ESLint 9.x and the flat config. You can track <a href="https://github.com/eslint/eslint/issues/18391">ESLint v9 support</a> and <a href="https://github.com/eslint/eslint/issues/18093">flat config support</a>. Most popular plugins already support these changes.</li>
<li><strong>Update NodeJS and dependencies</strong></li>
<li><strong>Separate Prettier and ESLint</strong>: (If you use the <code>plugin:prettier</code> plugin) ESLint has <a href="https://eslint.org/blog/2023/10/deprecating-formatting-rules/">deprecated formatter rules</a>, meaning there is no format syntax with ESLint. This reduces conflicts between ESLint and Prettier. To simplify the ESLint config, I recommend separating ESLint and Prettier, and no longer using <code>plugin:prettier</code>. This also allows flexibility in choosing other formatter tools like Biome.</li>
</ul>
<h3 id="use-the-migrator-tool">Use the migrator tool</h3>
<p>The ESLint team has developed a <a href="https://eslint.org/blog/2024/05/eslint-configuration-migrator/">migrator tool</a> to help convert legacy config files (e.g., <code>.eslintrc*</code>) to the flat config.</p>
<p>Here's how to use it:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>npx @eslint/migrate-config .eslintrc.yml
</span></span></code></pre><p>Here is a simple example of a legacy config file <code>.eslintrc.yml</code>:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#ff79c6">parser</span>: <span style="color:#f1fa8c">&#39;@typescript-eslint/parser&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">parserOptions</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">project</span>: ./tsconfig.json
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">sourceType</span>: module
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">env</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">node</span>: <span style="color:#ff79c6">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">jest</span>: <span style="color:#ff79c6">true</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">plugins</span>:
</span></span><span style="display:flex;"><span>    - import
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">extends</span>:
</span></span><span style="display:flex;"><span>    - eslint:recommended
</span></span><span style="display:flex;"><span>    - plugin:@typescript-eslint/recommended
</span></span><span style="display:flex;"><span>    - plugin:prettier/recommended
</span></span><span style="display:flex;"><span>    - plugin:import/recommended
</span></span><span style="display:flex;"><span>    - plugin:import/typescript
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">settings</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">import/resolver</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">typescript</span>: <span style="color:#ff79c6">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">node</span>: <span style="color:#ff79c6">true</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">rules</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#39;@typescript-eslint/no-use-before-define&#39;</span>: <span style="color:#f1fa8c">&#39;off&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#39;require-await&#39;</span>: <span style="color:#f1fa8c">&#39;off&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#39;no-duplicate-imports&#39;</span>: <span style="color:#f1fa8c">&#39;error&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#39;no-unneeded-ternary&#39;</span>: <span style="color:#f1fa8c">&#39;error&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#39;prefer-object-spread&#39;</span>: <span style="color:#f1fa8c">&#39;error&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#39;@typescript-eslint/no-unused-vars&#39;</span>: [<span style="color:#f1fa8c">&#39;error&#39;</span>, { <span style="color:#ff79c6">ignoreRestSiblings: true, args</span>: <span style="color:#f1fa8c">&#39;none&#39;</span> }]
</span></span></code></pre><p>This simple ESLint config is for a TypeScript NodeJS project with Jest for testing and includes various plugins for different rules. Your project might contain more plugins, more rules, or use different config file types (<code>.eslintrc.{js, cjs, mjs}</code> or <code>.eslintrc</code>), but the process for updating your setup will be similar</p>
<p>Here is the generated config by migrator tool:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#ff79c6">import</span> { fixupConfigRules, fixupPluginRules } from <span style="color:#f1fa8c">&#39;@eslint/compat&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> _import from <span style="color:#f1fa8c">&#39;eslint-plugin-import&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> globals from <span style="color:#f1fa8c">&#39;globals&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> tsParser from <span style="color:#f1fa8c">&#39;@typescript-eslint/parser&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> path from <span style="color:#f1fa8c">&#39;node:path&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> { fileURLToPath } from <span style="color:#f1fa8c">&#39;node:url&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> js from <span style="color:#f1fa8c">&#39;@eslint/js&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> { FlatCompat } from <span style="color:#f1fa8c">&#39;@eslint/eslintrc&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> __filename <span style="color:#ff79c6">=</span> fileURLToPath(<span style="color:#ff79c6">import</span>.meta.url)
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> __dirname <span style="color:#ff79c6">=</span> path.dirname(__filename)
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> compat <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> FlatCompat({
</span></span><span style="display:flex;"><span>    baseDirectory<span style="color:#ff79c6">:</span> __dirname,
</span></span><span style="display:flex;"><span>    recommendedConfig<span style="color:#ff79c6">:</span> js.configs.recommended,
</span></span><span style="display:flex;"><span>    allConfig<span style="color:#ff79c6">:</span> js.configs.all,
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> [
</span></span><span style="display:flex;"><span>    ...fixupConfigRules(
</span></span><span style="display:flex;"><span>        compat.<span style="color:#ff79c6">extends</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;eslint:recommended&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;plugin:@typescript-eslint/recommended&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;plugin:prettier/recommended&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;plugin:import/recommended&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;plugin:import/typescript&#39;</span>,
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        plugins<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">import</span><span style="color:#ff79c6">:</span> fixupPluginRules(_import),
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        languageOptions<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>            globals<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>                ...globals.node,
</span></span><span style="display:flex;"><span>                ...globals.jest,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            parser<span style="color:#ff79c6">:</span> tsParser,
</span></span><span style="display:flex;"><span>            ecmaVersion<span style="color:#ff79c6">:</span> <span style="color:#bd93f9">5</span>,
</span></span><span style="display:flex;"><span>            sourceType<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;module&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            parserOptions<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>                project<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;./tsconfig.json&#39;</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        settings<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;import/resolver&#39;</span><span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>                typescript<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
</span></span><span style="display:flex;"><span>                node<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        rules<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;@typescript-eslint/no-use-before-define&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;off&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;require-await&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;off&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;no-duplicate-imports&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;no-unneeded-ternary&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;prefer-object-spread&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;@typescript-eslint/no-unused-vars&#39;</span><span style="color:#ff79c6">:</span> [
</span></span><span style="display:flex;"><span>                <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    ignoreRestSiblings<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
</span></span><span style="display:flex;"><span>                    args<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;none&#39;</span>,
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>]
</span></span></code></pre><p>The migrator will prompt you to install additional packages:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>Wrote new config to ./eslint.config.mjs
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>You will need to install the following packages to use the new config:
</span></span><span style="display:flex;"><span>- @eslint/compat
</span></span><span style="display:flex;"><span>- globals
</span></span><span style="display:flex;"><span>- @eslint/js
</span></span><span style="display:flex;"><span>- @eslint/eslintrc
</span></span></code></pre><ul>
<li><a href="https://www.npmjs.com/package/@eslint/js">@eslint/js</a>: ESLint team start to <a href="https://eslint.org/blog/2024/07/whats-coming-next-for-eslint/">make a core rewrite the ESLint</a>, all the rules, documentations will move to the new package. This is a ESLint Javascript package rules. We will also have <code>@eslint/json</code> for json linter, <code>@eslint/markdown</code> for markdown linter.</li>
<li><a href="https://www.npmjs.com/package/@eslint/eslintrc">@eslint/eslintrc</a>: This package contains the legacy <code>eslintrc</code> configuration file format for ESLint. You will not need it if you start to write a new flat config files</li>
<li><a href="https://www.npmjs.com/package/@eslint/compat">@eslint/compat</a>: This package allow you to wrap existing previous ESLint rules, plugins and configurations.</li>
</ul>
<p>After using the migrator, we can identify additional dependencies we need to install: <code>@eslint/js</code> and <code>globals</code>.
We no longer need the package <code>@eslint/eslintrc</code> since we are now using the flat config file. Additionally, <code>@eslint/compat</code> is not necessary unless certain plugins in your project do not support the flat config.</p>
<p>This tool might not produce a perfect result, but it provides a good starting point. That help us understand better how the syntax of the flat config look like. But in all cases, it will not work directly, we need to require a lot of manual adjustments. We will see the next part to know how better writting the flat config.</p>
<h3 id="writing-the-new-config">Writing the new config</h3>
<p>Considering our project contains different file extensions such as <code>js, mjs, ts</code>, the new config should be written like this:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#ff79c6">import</span> importPlugin from <span style="color:#f1fa8c">&#39;eslint-plugin-import&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> globals from <span style="color:#f1fa8c">&#39;globals&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> tsParser from <span style="color:#f1fa8c">&#39;@typescript-eslint/parser&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> eslintJs from <span style="color:#f1fa8c">&#39;@eslint/js&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> eslintTs from <span style="color:#f1fa8c">&#39;typescript-eslint&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> tsFiles <span style="color:#ff79c6">=</span> [<span style="color:#f1fa8c">&#39;{app,tests}/**/*.ts&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> languageOptions <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    globals<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>        ...globals.node,
</span></span><span style="display:flex;"><span>        ...globals.jest,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    ecmaVersion<span style="color:#ff79c6">:</span> <span style="color:#bd93f9">2023</span>,
</span></span><span style="display:flex;"><span>    sourceType<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;module&#39;</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> customTypescriptConfig <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    files<span style="color:#ff79c6">:</span> tsFiles,
</span></span><span style="display:flex;"><span>    plugins<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">import</span><span style="color:#ff79c6">:</span> importPlugin,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;import/parsers&#39;</span><span style="color:#ff79c6">:</span> tsParser,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    languageOptions<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>        ...languageOptions,
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff79c6">:</span> tsParser,
</span></span><span style="display:flex;"><span>        parserOptions<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>            project<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;./tsconfig.json&#39;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    settings<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;import/parsers&#39;</span><span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;@typescript-eslint/parser&#39;</span><span style="color:#ff79c6">:</span> [<span style="color:#f1fa8c">&#39;.ts&#39;</span>],
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    rules<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;import/export&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;import/no-duplicates&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;warn&#39;</span>,
</span></span><span style="display:flex;"><span>        ...importPlugin.configs.typescript.rules,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;@typescript-eslint/no-use-before-define&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;off&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;require-await&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;off&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;no-duplicate-imports&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;no-unneeded-ternary&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;prefer-object-spread&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#39;@typescript-eslint/no-unused-vars&#39;</span><span style="color:#ff79c6">:</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ignoreRestSiblings<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
</span></span><span style="display:flex;"><span>                args<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;none&#39;</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Add the files for applying the recommended TypeScript configs
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// only for the Typescript files.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// This is necessary when we have the multiple extensions files
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// (e.g. .ts, .tsx, .js, .cjs, .mjs, etc.).
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">const</span> recommendedTypeScriptConfigs <span style="color:#ff79c6">=</span> [
</span></span><span style="display:flex;"><span>    ...eslintTs.configs.recommended.map((config) =&gt; ({
</span></span><span style="display:flex;"><span>        ...config,
</span></span><span style="display:flex;"><span>        files<span style="color:#ff79c6">:</span> tsFiles,
</span></span><span style="display:flex;"><span>    })),
</span></span><span style="display:flex;"><span>    ...eslintTs.configs.stylistic.map((config) =&gt; ({
</span></span><span style="display:flex;"><span>        ...config,
</span></span><span style="display:flex;"><span>        files<span style="color:#ff79c6">:</span> tsFiles,
</span></span><span style="display:flex;"><span>    })),
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> [
</span></span><span style="display:flex;"><span>    { ignores<span style="color:#ff79c6">:</span> [<span style="color:#f1fa8c">&#39;docs/*&#39;</span>, <span style="color:#f1fa8c">&#39;build/*&#39;</span>, <span style="color:#f1fa8c">&#39;lib/*&#39;</span>, <span style="color:#f1fa8c">&#39;dist/*&#39;</span>] }, <span style="color:#6272a4">// global ignores
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    eslintJs.configs.recommended,
</span></span><span style="display:flex;"><span>    ...recommendedTypeScriptConfigs,
</span></span><span style="display:flex;"><span>    customTypescriptConfig,
</span></span><span style="display:flex;"><span>]
</span></span></code></pre><p>You might notice that we don’t need to use tools like <code>@eslint/compat</code> or <code>@eslint/eslintrc</code>, which keeps the config cleaner and easier to maintain.</p>
<p>If some plugins in your project do not yet support the flat config, you will need to use <code>@eslint/compat</code>. For example, the package <code>eslint-plugin-import</code> <a href="https://github.com/import-js/eslint-plugin-import/issues/2556">does not fully support the flat config yet</a>, so some rules might not work correctly. In my case, I use <code>importPlugin.configs.typescript.rules</code> which works without using <code>@eslint/compat</code>.</p>
<p>For specific rules and file extensions, such as <code>common.js</code> files, we provide separate configurations to ensure they are correctly linted according to their specific requirements:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#ff79c6">const</span> customCommonJSConfig <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    files<span style="color:#ff79c6">:</span> [<span style="color:#f1fa8c">&#39;{app,tests}/**/*.cjs&#39;</span>],
</span></span><span style="display:flex;"><span>    languageOptions<span style="color:#ff79c6">:</span> {
</span></span><span style="display:flex;"><span>        ...languageOptions,
</span></span><span style="display:flex;"><span>        sourceType<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;commonjs&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    rules<span style="color:#ff79c6">:</span> customCommonJSRules,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> customESMConfig <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    files<span style="color:#ff79c6">:</span> [<span style="color:#f1fa8c">&#39;{app,tests}/**/*.{.js,mjs}&#39;</span>],
</span></span><span style="display:flex;"><span>    languageOptions,
</span></span><span style="display:flex;"><span>    rules<span style="color:#ff79c6">:</span> customESMRules,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// And add it to the export config
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> [
</span></span><span style="display:flex;"><span>    { ignores<span style="color:#ff79c6">:</span> [<span style="color:#f1fa8c">&#39;docs/*&#39;</span>, <span style="color:#f1fa8c">&#39;build/*&#39;</span>, <span style="color:#f1fa8c">&#39;lib/*&#39;</span>, <span style="color:#f1fa8c">&#39;dist/*&#39;</span>] }, <span style="color:#6272a4">// global ignores,
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    eslintJs.configs.recommended,
</span></span><span style="display:flex;"><span>    customESMConfig,
</span></span><span style="display:flex;"><span>    customCommonJSConfig,
</span></span><span style="display:flex;"><span>    ...recommendedTypeScriptConfigs,
</span></span><span style="display:flex;"><span>    customTypescriptConfig,
</span></span><span style="display:flex;"><span>]
</span></span></code></pre><p>By using the <code>files</code> field, you can ensure that the defined rules apply only to the specified files, providing more granular control over your linting process. This is especially useful in projects with multiple file types, such as JavaScript, TypeScript, and CommonJS files, etc..., where each type may require different linting rules.</p>
<p>That's all!</p>
<p><strong>Bonus: ESLint Inspector</strong></p>
<p>Once you have finished writing your ESLint config file, you can use the tool <a href="https://eslint.org/blog/2024/04/eslint-config-inspector/">eslint-config-inspector</a>. It's a visual tool for inspecting and understanding your ESLint flat configs. Give it a try to better understand your config.</p>
<hr>
<h2 id="updated-march-11-2025">UPDATED: March 11, 2025</h2>
<p>ESLint recently has made significant improvements for the way to define the configuration files.
You can now use <code>defineConfig</code> from <code>eslint/config</code> to extend your configuration.
This brings back the <code>extends</code> functionality, adds support for global ignores, and maintains compatibility with older plugins…etc. (and a lot of good new features for us)</p>
<p>These changes make migrating to ESLint 9.x much easier than before. Many thanks to the ESLint team for their development efforts!</p>
<p>For more details, check the official ESLint blog post: <a href="https://eslint.org/blog/2025/03/flat-config-extends-define-config-global-ignores/">Evolving flat config with extends</a></p>
 <div class="pagination">
    
    <hr />
    Thanks for reading! This writing style focuses on clarity and simplicity, explaining concepts in accessible terms rather than pursuing strict academic precision. If you notice anything outdated, feel free to comment or send me a message. 

    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="/blog/enum-typescript/">
                <span class="button__icon">←</span>
                <span class="button__text">Why you might be using Enums in TypeScript wrong</span>
            </a>
        </span>
         
        <span class="button next">
            <a href="/blog/tsconfig-options-you-should-use/">
                <span class="button__text">Essential tsconfig.json options you should use</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

                    </article>
                    <div class="sharing-buttons">
    <h3>Share this post:</h3>
    <ul class="sharing-list" id="right">
        <li>
            <a
                href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2ftduyng.com%2fblog%2fmigrating-to-eslint9x&t=Migrate%20to%20ESLint%209.x"
                target="_blank"
                rel="noopener noreferrer"
            >
                <img src="/icon/hacker-news.svg" alt="Share on Hacker News" class="sharing-icon" />
            </a>
        </li>
        <li>
            <a
                href="https://www.reddit.com/submit?url=https%3a%2f%2ftduyng.com%2fblog%2fmigrating-to-eslint9x&title=Migrate%20to%20ESLint%209.x"
                target="_blank"
                rel="noopener noreferrer"
            >
                <img src="/icon/reddit.svg" alt="Share on Reddit" class="sharing-icon" />
            </a>
        </li>

        <li>
            <a
                href="https://mastodon.social/share?url=https%3a%2f%2ftduyng.com%2fblog%2fmigrating-to-eslint9x&text=Migrate%20to%20ESLint%209.x"
                target="_blank"
                rel="noopener noreferrer"
            >
                <img src="/icon/mastodon.svg" alt="Share on Mastodon" class="sharing-icon" />
            </a>
        </li>

        <li>
            <a
                href="https://x.com/intent/tweet?url=https%3a%2f%2ftduyng.com%2fblog%2fmigrating-to-eslint9x&text=Migrate%20to%20ESLint%209.x"
                target="_blank"
                rel="noopener noreferrer"
            >
                <img src="/icon/x.svg" alt="Share on Twitter" class="sharing-icon" />
            </a>
        </li>

        <li>
            <a
                href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftduyng.com%2fblog%2fmigrating-to-eslint9x"
                target="_blank"
                rel="noopener noreferrer"
            >
                <img src="/icon/facebook.svg" alt="Share on Facebook" class="sharing-icon" />
            </a>
        </li>

        <li>
            <a
                href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ftduyng.com%2fblog%2fmigrating-to-eslint9x&title=Migrate%20to%20ESLint%209.x"
                target="_blank"
                rel="noopener noreferrer"
            >
                <img src="/icon/linkedin.svg" alt="Share on LinkedIn" class="sharing-icon" />
            </a>
        </li>

        <li>
            <a href="mailto:?subject=Migrate%20to%20ESLint%209.x&body=https%3a%2f%2ftduyng.com%2fblog%2fmigrating-to-eslint9x">
                <img src="/icon/email.svg" alt="Share via Email" class="sharing-icon" />
            </a>
        </li>
    </ul>
</div>
 
<div
    class="reaction right"
    data-endpoint="https://reaction.tienduy-nguyen-dev.workers.dev"
></div>

 

                </div>

                
<script
    src="https://giscus.app/client.js"
    data-repo="tduyng/tduyng.github.io"
    data-repo-id="MDEwOlJlcG9zaXRvcnkyNjAzNTM0NzM="
    data-category="General"
    data-category-id="DIC_kwDOD4Stwc4CfSpo"
    data-mapping="specific"
    data-term="blog/migrating-to-eslint9x"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="1"
    data-input-position="bottom"
    data-theme="dark_dimmed"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async
></script>

 <footer>
    <div class="footer-menu">
        
        <a class="instant fold" href="/tags">tags</a>
        
        <a class="instant fold" href="/subscribe">subscribe</a>
        
        <a class="instant fold" href="/contact">contact</a>
        
        <a class="instant fold" href="/privacy">privacy</a>
        
        <a class="instant fold" href="/atom.xml">rss</a>
        
    </div>
    <div class="copyright">
        ©2025 Duy NG
        <span>|</span>
        Built with
        <a href="https://github.com/tduyng/gozzi" rel="noreferrer" target="_blank">gozzi</a>
    </div>
</footer>

            </main>
        </div>
        <script src="/js/main.js" defer></script>
<script src="/js/lightense.min.js" defer></script>
 
<script
    async
    defer
    data-website-id="0403ec1f-fbf8-4e6c-b24b-0c585ca25873"
    src="https://cloud.umami.is/script.js"
    data-do-not-track="true"
></script>


    </body>
</html>
